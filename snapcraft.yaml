name: pc
version: '18-2'
type: gadget
base: core18
summary: PC gadget for generic devices
description: |
    This gadget enables generic pc devices to work with Ubuntu Core
grade: stable
confinement: strict
icon: icon.png

slots:
  tpe-valina:
    interface: serial-port
    path: /dev/ttyS1
  printer-ticket:
    interface: serial-port
    path: /dev/ttyS2
  printer-qrcode:
    interface: serial-port
    path: /dev/ttyS3
  reader-qrcode:
    interface: serial-port
    path: /dev/ttyACM0

parts:
  grub-prepare:
    plugin: nil
    stage-packages:
      - grub-efi-amd64-signed
      - grub-pc-bin
      - shim-signed
    prime: [ -* ]
  grub:
    source: .
    build-packages:
      - grub-common
    plugin: make
    after: [grub-prepare]

